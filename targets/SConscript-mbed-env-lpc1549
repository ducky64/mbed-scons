"""Shared environment variable defines for platform-specific compiles.
Includes the base mbed environment on GCC.
"""

Import('env')
SConscript('SConscript-mbed-env-gcc', exports='env')
SConscript('SConscript-mbed-env-cortexm3', exports='env')

env.Append(MBED_TARGET = [
  'TARGET_NXP',
  'TARGET_LPC15XX',
  'TARGET_LPC1549',
])

env.Append(CPPDEFINES = env['MBED_TARGET'])

if 'MBED_LIB_LINKSCRIPTS_ROOT' in env:
  env['MBED_LINKSCRIPT'] = Dir(env['MBED_LIB_LINKSCRIPTS_ROOT'])\
      .File('targets/cmsis/TARGET_NXP/TARGET_LPC15XX/TOOLCHAIN_GCC_ARM/LPC1549.ld')\
      .srcnode()
